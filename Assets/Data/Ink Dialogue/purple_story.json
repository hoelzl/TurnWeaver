{"inkVersion":21,"root":[["\n","\n",["done",{"#f":5,"#n":"g-0"}],null],"done",{"start":[["ev","str","^purple_quest","/str","str","^Active","/str",{"x()":"set_quest_status","exArgs":2},"pop","/ev","\n","^Hello, this is ","ev",{"x()":"get_npc_name"},"out","/ev","^, with ID ","ev",{"VAR?":"npc_id"},"out","/ev","^.","\n","^My registered name is ","ev",{"VAR?":"npc_id"},{"x()":"get_name","exArgs":1},"out","/ev","^.","\n","^You start with ","ev",{"VAR?":"player_id"},{"x()":"get_currency","exArgs":1},"out","/ev","^ dollars","\n","<>","^and ","ev",{"VAR?":"player_id"},"str","^Pickaxe","/str",{"x()":"count_item","exArgs":2},"out","/ev","^ pickaxe(s).","\n","^Let's change this:","\n","ev",{"VAR?":"player_id"},20,{"x()":"add_currency","exArgs":2},"pop","/ev","\n","ev",{"VAR?":"player_id"},"str","^Pickaxe","/str",1,{"x()":"add_item","exArgs":3},"pop","/ev","\n","ev",{"VAR?":"player_id"},"str","^Pickaxe","/str",{"x()":"count_item","exArgs":2},"/ev",{"temp=":"number_of_pickaxes"},"\n","^You now have ","ev",{"VAR?":"player_id"},{"x()":"get_currency","exArgs":1},"out","/ev","^ dollars and","\n","<>","ev",{"VAR?":"number_of_pickaxes"},"out","/ev","^ pickaxe(s).","\n",["ev",{"^->":"start.0.94.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-0","flg":2},{"s":["^p: OK. See you later.",{"->":"$r","var":true},null]}],{"c-0":["ev",{"^->":"start.0.c-0.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.94.s"},[{"#n":"$r2"}],"\n","ev","str","^purple_quest","/str","str","^talk_to_pink_npc_1","/str","str","^Active","/str",{"x()":"set_task_status","exArgs":3},"pop","/ev","\n","^>>> close","\n","^Welcome back!","\n",["ev",{"VAR?":"number_of_pickaxes"},{"VAR?":"player_id"},"str","^Pickaxe","/str",{"x()":"count_item","exArgs":2},"==","/ev",{"->":".^.b","c":true},{"b":["\n","^Your number of pickaxes hasn't changed.","\n",{"->":".^.^.^.27"},null]}],[{"->":".^.b"},{"b":["\n","^You used to have ","ev",{"VAR?":"number_of_pickaxes"},"out","/ev","^ pickaxe(s),","\n","^now you have ","ev",{"VAR?":"player_id"},"str","^Pickaxe","/str",{"x()":"count_item","exArgs":2},"out","/ev","^.","\n",{"->":".^.^.^.27"},null]}],"nop","\n",{"->":"quest_start"},{"#f":5}]}],{"#f":1}],"quest_start":[["ev",true,"/ev",{"VAR=":"quest_started","re":true},"ev","str","^purple_quest","/str","str","^talk_to_pink_npc_1","/str","str","^Completed","/str",{"x()":"set_task_status","exArgs":3},"pop","/ev","\n","ev","str","^purple_quest","/str","str","^talk_to_purple_npc","/str","str","^Active","/str",{"x()":"set_task_status","exArgs":3},"pop","/ev","\n","^Talk to ","ev",{"VAR?":"purple_npc_id"},{"x()":"get_name","exArgs":1},"out","/ev","^.","\n","^They'll be somewhere around here.","\n",["ev",{"^->":"quest_start.0.42.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-0","flg":2},{"s":["^p: OK.",{"->":"$r","var":true},null]}],{"c-0":["ev",{"^->":"quest_start.0.c-0.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.42.s"},[{"#n":"$r2"}],"\n","^>>> close","\n",{"->":"quest_check_talked_to_purple_npc"},{"#f":5}]}],{"#f":1}],"quest_check_talked_to_purple_npc":[["^Did you talk to ","ev",{"VAR?":"purple_npc_id"},{"x()":"get_name","exArgs":1},"out","/ev","^?","\n",["ev",{"^->":"quest_check_talked_to_purple_npc.0.8.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str",{"VAR?":"talked_to_purple_npc"},"/ev",{"*":".^.^.c-0","flg":3},{"s":["^p: Sure did.",{"->":"$r","var":true},null]}],["ev",{"^->":"quest_check_talked_to_purple_npc.0.9.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str",{"VAR?":"talked_to_purple_npc"},"!","/ev",{"*":".^.^.c-1","flg":3},{"s":["^p: Nope.",{"->":"$r","var":true},null]}],{"c-0":["ev",{"^->":"quest_check_talked_to_purple_npc.0.c-0.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.8.s"},[{"#n":"$r2"}],"\n","^Cool. Here is your reward.","\n","ev",{"VAR?":"player_id"},100,{"x()":"add_currency","exArgs":2},"pop","/ev","\n","ev",{"VAR?":"player_id"},"str","^Medium Health Potion","/str",2,{"x()":"add_item","exArgs":3},"pop","/ev","\n","ev","str","^purple_quest","/str","str","^talk_to_pink_npc_2","/str","str","^Completed","/str",{"x()":"set_task_status","exArgs":3},"pop","/ev","\n","ev","str","^purple_quest","/str","str","^Completed","/str",{"x()":"set_quest_status","exArgs":2},"pop","/ev","\n","^You now have ","ev",{"VAR?":"player_id"},{"x()":"get_currency","exArgs":1},"out","/ev","^ gold and ","ev",{"VAR?":"player_id"},"str","^Medium Health Potion","/str",{"x()":"count_item","exArgs":2},"out","/ev","\n","<>","^ Medium Health Potions.","\n",[["ev",{"^->":"quest_check_talked_to_purple_npc.0.c-0.70.0.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-0","flg":2},{"s":["^p: Cool.",{"->":"$r","var":true},null]}],{"c-0":["ev",{"^->":"quest_check_talked_to_purple_npc.0.c-0.70.c-0.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.0.s"},[{"#n":"$r2"}],"\n","^>>> close","\n",{"->":"quest_over"},{"#f":5}]}],{"#f":5}],"c-1":["ev",{"^->":"quest_check_talked_to_purple_npc.0.c-1.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.9.s"},[{"#n":"$r2"}],"\n","^Pity.","\n",[["ev",{"^->":"quest_check_talked_to_purple_npc.0.c-1.9.0.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-0","flg":2},{"s":["^See ya!",{"->":"$r","var":true},null]}],{"c-0":["ev",{"^->":"quest_check_talked_to_purple_npc.0.c-1.9.c-0.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.0.s"},[{"#n":"$r2"}],"\n","^>>> close","\n",{"->":".^.^.^.^.^"},{"#f":5}]}],{"#f":5}]}],{"#f":1}],"quest_over":[["^I think we have nothing to discuss right now.","\n",["ev",{"^->":"quest_over.0.2.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-0","flg":2},{"s":["^p: If you think so...",{"->":"$r","var":true},null]}],{"c-0":["ev",{"^->":"quest_over.0.c-0.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.2.s"},[{"#n":"$r2"}],"\n","^>>> close","\n",{"->":".^.^.^"},{"#f":5}]}],{"#f":1}],"purple_npc_start":["ev",{"VAR?":"quest_started"},"/ev",[{"->":".^.b","c":true},{"b":["\n",{"->":".^.^.^.talk_to_player"},{"->":".^.^.^.5"},null]}],[{"->":".^.b"},{"b":["\n",{"->":".^.^.^.dont_talk_to_player"},{"->":".^.^.^.5"},null]}],"nop","\n",{"talk_to_player":[["^Here is the secret phrase: \"The crows feast rich tonight.\"","\n","ev","str","^Got it.","/str","/ev",{"*":".^.c-0","flg":4},{"c-0":["^ p: \"The crows feast rich tonight.\" Got it.","\n","ev",true,"/ev",{"VAR=":"talked_to_purple_npc","re":true},"ev","str","^purple_quest","/str","str","^talk_to_purple_npc","/str","str","^Completed","/str",{"x()":"set_task_status","exArgs":3},"pop","/ev","\n","ev","str","^purple_quest","/str","str","^talk_to_pink_npc_2","/str","str","^Active","/str",{"x()":"set_task_status","exArgs":3},"pop","/ev","\n","^>>> close","\n",{"->":".^.^.^.^.dont_talk_to_player"},{"#f":5}]}],{"#f":1}],"dont_talk_to_player":[["^Go away!","\n",["ev",{"^->":"purple_npc_start.dont_talk_to_player.0.2.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-0","flg":2},{"s":["^p: How rude!",{"->":"$r","var":true},null]}],{"c-0":["ev",{"^->":"purple_npc_start.dont_talk_to_player.0.c-0.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.2.s"},[{"#n":"$r2"}],"\n","^>>> close","\n",{"->":".^.^.^.^"},{"#f":5}]}],{"#f":1}],"#f":1}],"add_currency":[{"temp=":"amount"},{"temp=":"unique_id"},"^<added currency>","\n",{"#f":1}],"add_item":[{"temp=":"quantity"},{"temp=":"unique_item_name"},{"temp=":"unique_id"},"^<added item>","\n",{"#f":1}],"can_add_item":[{"temp=":"quantity"},{"temp=":"unique_item_name"},{"temp=":"unique_id"},"ev",true,"/ev","~ret",{"#f":1}],"count_item":[{"temp=":"unique_item_name"},{"temp=":"unique_id"},"ev",-1,"/ev","~ret",{"#f":1}],"get_currency":[{"temp=":"unique_id"},"ev",-1,"/ev","~ret",{"#f":1}],"get_name":[{"temp=":"unique_id"},"^<the name of ","ev",{"VAR?":"unique_id"},"out","/ev","^>","\n",{"#f":1}],"get_npc_name":["^<the current NPC>","\n",{"#f":1}],"get_quest_status":[{"temp=":"quest_short_name"},"^<quest status of ","ev",{"VAR?":"quest_short_name"},"out","/ev","^>","\n",{"#f":1}],"get_task_status":[{"temp=":"task_short_name"},{"temp=":"quest_short_name"},"^<task status of ","ev",{"VAR?":"quest_short_name"},"out","/ev","^.","ev",{"VAR?":"task_short_name"},"out","/ev","^>","\n",{"#f":1}],"remove_currency":[{"temp=":"amount"},{"temp=":"unique_id"},"^<removed currency>","\n",{"#f":1}],"remove_item":[{"temp=":"quantity"},{"temp=":"unique_item_name"},{"temp=":"unique_id"},"^<removed item>","\n",{"#f":1}],"set_quest_status":[{"temp=":"status_string"},{"temp=":"quest_short_name"},"^<setting quest status>","\n",{"#f":1}],"set_task_status":[{"temp=":"status_string"},{"temp=":"task_short_name"},{"temp=":"quest_short_name"},"^<setting task status>","\n",{"#f":1}],"global decl":["ev","str","^8f44c84a-56aa-46e8-97b3-33818985ea6f","/str",{"VAR=":"first_yellow_npc_id"},"str","^059e5ef9-7a97-4806-a408-72b59cbc4cbc","/str",{"VAR=":"pink_npc_id"},"str","^0f01f594-fec8-4100-aba9-c9f76e384507","/str",{"VAR=":"player_id"},"str","^765057ac-abbb-47c2-b34d-9ab6b169ed65","/str",{"VAR=":"purple_npc_id"},"str","^bb8ff6c9-30c5-4963-a68e-491d4ad9e614","/str",{"VAR=":"second_yellow_npc_id"},"str","^c2f4020f-2595-4b83-a202-c61cf4c4245c","/str",{"VAR=":"vendor_id"},"str","^","/str",{"VAR=":"npc_id"},false,{"VAR=":"quest_started"},false,{"VAR=":"talked_to_purple_npc"},"/ev","end",null],"#f":1}],"listDefs":{}}